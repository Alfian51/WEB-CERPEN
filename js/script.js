document.addEventListener('DOMContentLoaded', () => {
    // Initial story data to populate the website for first-time visitors
    const initialStories = [
        // Komedi
        {
            id: 1728650000001,
            title: "GPS yang Puitis",
            category: "Komedi",
            content: "Budi terlambat. Ini bukan sekadar terlambat biasa; ini adalah jenis keterlambatan 'karier-di-ujung-tanduk'. Wawancara kerja impiannya akan dimulai dalam tiga puluh menit, di sebuah gedung perkantoran yang tersembunyi di belantara beton kota yang tidak ia kenali.\n\nSatu-satunya harapannya adalah GPS di ponselnya. Namun, pagi itu, aplikasi peta kesayangannya memutuskan untuk melakukan pembaruan tanpa izin. Versi baru ini memiliki fitur 'suara narasi' yang tidak bisa dimatikan. Budi, dengan panik, memilih suara 'Pujangga Senja'—satu-satunya pilihan selain 'Robot Kejam'—dan memulai perjalanannya.\n\n'Di persimpangan kehidupan ini, wahai musafir,' suara GPS itu memulai dengan nada dramatis, 'ambilah jalan ke kiri, tempat mentari pagi menyulam bayang-bayang rindu.' Budi mengerutkan kening. 'Belok kiri, oke,' gumamnya.\n\nMasalah dimulai di belokan kedua. 'Luruslah terus, ikuti arus takdir yang mengalir deras, seperti sungai yang merindukan samuderanya!' Budi mengikuti jalan lurus, yang ternyata membawanya masuk ke jalan buntu yang berakhir di sebuah taman dengan danau angsa. Beberapa seniman sedang melukis pemandangan. 'Ini bukan takdir, ini jalan buntu!' teriak Budi frustrasi.\n\nSetelah berhasil putar balik, GPS memberinya instruksi baru: 'Putar balik di bundaran harapan, lalu ambil jalan ketiga, jalan setapak menuju pencerahan jiwa.' Jalan ketiga ternyata adalah sebuah gang sempit yang membawanya ke belakang sebuah kafe tempat diadakannya acara 'open mic' pembacaan puisi. Seseorang di atas panggung sedang mendeklamasikan puisi tentang kesedihan sebuah pot kaktus.\n\nDengan sisa waktu sepuluh menit, Budi memutuskan untuk mengabaikan sang pujangga digital. Ia menurunkan kaca jendelanya dan berteriak ke seorang pejalan kaki, 'Permisi, di mana alamat ini?!' Pria itu memberinya petunjuk yang jelas dan sederhana. Budi tancap gas, memarkir mobilnya dengan sembrono, dan berlari ke lobi.\n\nIa tiba di ruang wawancara dengan napas terengah-engah, rambut berantakan, dan dasi yang miring. Pewawancara menatapnya. 'Anda Budi? Anda terlihat... seperti baru saja melewati perjalanan epik.'\n\nBudi merapikan dasinya. 'Anda tidak akan percaya,' katanya, 'GPS saya sepertinya baru saja patah hati.' Pewawancara itu tertawa terbahak-bahak. Ternyata, pendiri perusahaan itu adalah seorang penyair amatir. Budi tidak hanya mendapatkan pekerjaan, tetapi juga undangan untuk tampil di acara 'open mic' minggu depan.",
            comments: []
        },
        {
            id: 1728650000002,
            title: "Operasi Penyelamatan Kucing Tetangga Galak",
            category: "Komedi",
            content: "Miko, si kucing oranye milik Rina, adalah ahlinya dalam membuat masalah. Pagi itu, ia berhasil mencapai level baru: bertengger di dahan tertinggi pohon mangga di halaman Pak RT, seorang pensiunan tentara yang lebih galak dari semua anjing penjaga di kompleks.\n\n'Pus, turun, Pus!' Rina memohon dari bawah. Miko hanya mengeong santai, seolah sedang menikmati pemandangan dari singgasananya. Kepanikan Rina memuncak ketika ia melihat Pak RT keluar untuk menyiram tanaman. Ia segera menarik dua sahabatnya, Adi dan Dito, untuk merancang misi penyelamatan.\n\nRencana pertama datang dari Adi: 'Kita pancing pakai makanan.' Mereka mengikat sosis ke ujung tali pancing dan Adi, dengan gaya seorang pemancing profesional, melemparkannya ke arah Miko. Hasilnya? Sosis itu malah tersangkut di talang air rumah Pak RT, menjadi sasaran empuk semut merah.\n\n'Rencana bodoh!' cibir Dito. 'Kita butuh pendekatan vertikal.' Dito menyarankan menggunakan tangga. Satu-satunya tangga yang mereka punya adalah tangga lipat tua milik ayah Rina yang salah satu kakinya sudah goyang. Dengan Dito memegangi bagian bawah dan Rina menaiki tangga dengan hati-hati, mereka hampir mencapai Miko.\n\n'Sedikit lagi...' bisik Rina. Tepat pada saat itu, Pak RT menyalakan sistem penyiram otomatis di halamannya. Air menyemprot ke segala arah. Rina menjerit kaget, tangga bergoyang, dan Dito terpeleset di rumput yang basah. Rina jatuh dengan tidak elegan ke semak-semak bunga mawar di bawahnya.\n\nDi tengah kekacauan itu, Pak RT akhirnya menyadari apa yang terjadi. Ia berjalan mendekat, wajahnya keras. 'Ada apa ini ramai-ramai di halaman saya?' tanyanya dengan suara menggelegar. Rina, Adi, dan Dito berdiri kaku, siap menerima omelan abad ini.\n\nNamun, sebelum mereka bisa menjawab, terdengar suara 'meong' lembut dari bawah. Miko, si kucing biang kerok, ternyata sudah turun sendiri saat semua orang sibuk dengan drama tangga dan air. Ia kini sedang menggesek-gesekkan badannya dengan manja di kaki Pak RT.\n\nPak RT menunduk, mengangkat Miko, dan menggaruk dagunya. 'Oh, jadi ini yang kalian cari?' Wajahnya yang galak perlahan melunak. 'Kucing pintar. Dia tahu siapa yang paling berkuasa di sini.'\n\nAkhirnya, mereka tidak hanya berhasil 'menyelamatkan' Miko, tetapi juga menemukan bahwa di balik penampilan galaknya, Pak RT adalah seorang pecinta kucing. Misi penyelamatan itu gagal total, namun secara tidak sengaja berhasil menjinakkan tetangga paling ditakuti di lingkungan mereka.",
            comments: []
        },
        {
            id: 1728650000003,
            title: "Ketika Lomba Masak Menjadi Perang Tepung",
            category: "Komedi",
            content: "Chef Antoine, dengan aksen Prancisnya yang kental, dan Chef Susi, dengan senyum manisnya yang mematikan, adalah dua finalis dalam ajang 'Raja Dapur Indonesia'. Mereka berdiri di stasiun masak masing-masing, di bawah sorotan lampu studio yang panas dan tatapan jutaan pemirsa.\n\nTantangan final: membuat kue pernikahan tiga tingkat dalam waktu dua jam. Ketegangan terasa pekat. Chef Antoine, yang terkenal dengan teknik klasiknya, mulai mengaduk adonan dengan presisi seorang ilmuwan. Chef Susi, sang ratu fusi, mulai mencampur bahan-bahan eksotis yang bahkan para juri pun tidak tahu namanya.\n\nBencana terjadi di menit ke-45. Chef Antoine, dalam gerakan yang terlalu bersemangat saat mengambil gula, secara tidak sengaja menyenggol sekantong besar tepung terigu di meja Chef Susi. Kantong itu jatuh, meledak dalam awan putih yang menyelimuti seluruh stasiun masak Chef Susi.\n\nChef Susi muncul dari kabut tepung, rambutnya yang hitam legam kini putih seperti uban, wajahnya penuh bercak putih kecuali matanya yang menyipit tajam. Hening sejenak. Lalu, dengan senyum yang sangat, sangat manis, ia mengambil sekantong bubuk cokelat.\n\n'Oh, maaf, Chef,' kata Chef Susi. 'Tangan saya licin.' Ia 'secara tidak sengaja' melemparkan bubuk cokelat itu ke arah Chef Antoine, mengubah kemeja putih bersihnya menjadi kanvas seni abstrak berwarna cokelat.\n\nItulah titik awalnya. Chef Antoine membalas dengan menyemprotkan krim kocok. Chef Susi membalas dengan melemparkan segenggam buah beri. Dalam lima menit, area final yang tadinya megah berubah menjadi medan perang kuliner. Tepung beterbangan, telur pecah di lantai, dan saus karamel menetes dari lampu studio.\n\nPara juri, termasuk Chef Juna yang terkenal garang, hanya bisa melongo. Para kru kamera, berusaha melindungi lensa mereka, merekam setiap momen kekacauan itu. Penonton di studio, setelah hening karena kaget, mulai bersorak-sorai seolah sedang menonton pertandingan gulat.\n\nDi tengah-tengah perang itu, kedua chef berhenti sejenak, saling menatap, terengah-engah dan berlumuran bahan kue. Lalu mereka tertawa. Tawa yang begitu lepas hingga mereka terduduk di lantai yang lengket.\n\nPada akhirnya, tidak ada kue pernikahan yang selesai. Yang ada hanyalah kekacauan terbesar dalam sejarah televisi kuliner. Namun, episode itu mendapatkan rating tertinggi sepanjang masa. Chef Antoine dan Chef Susi tidak memenangkan gelar 'Raja Dapur', tetapi mereka mendapatkan sesuatu yang lebih baik: sebuah acara memasak baru berjudul 'Dapur Chaos', yang menjadi hit di seluruh negeri.",
            comments: []
        },
        // Romance
        {
            id: 1728650000004,
            title: "Playlist yang Tertukar",
            category: "Romance",
            content: "Lana adalah makhluk kebiasaan. Setiap pagi pukul 07.30, ia memesan segelas es kopi susu di kedai kopi yang sama, duduk di meja sudut yang sama, dan mendengarkan playlist 'Pagi Produktif' miliknya untuk memulai hari.\n\nBagas juga seorang pelanggan setia, meskipun jadwalnya lebih acak. Pagi itu, ia kebetulan memesan minuman yang sama persis dengan Lana. Saat nama 'Lana' dipanggil, ia yang sedang melamun, secara refleks mengambil cangkir es kopi itu. Beberapa detik kemudian, nama 'Bagas' dipanggil, dan Lana, yang juga tidak terlalu memperhatikan, mengambil cangkir yang tersisa.\n\nMereka berdua tidak menyadari apa pun yang aneh sampai mereka tiba di tujuan masing-masing. Lana, di kantornya, memasang earphone dan menekan 'play'. Alih-alih alunan musik lo-fi yang menenangkan, telinganya dihantam oleh raungan musik heavy metal. Ia tersentak kaget.\n\nSementara itu, Bagas, seorang seniman tato, bersiap untuk sesi menggambar. Ia mengharapkan alunan musik metal untuk memompa semangatnya. Sebaliknya, yang terdengar adalah lagu-lagu pop akustik yang lembut tentang jatuh cinta dan hujan. Ia menatap earphone-nya dengan bingung.\n\nKeduanya sama-sama kembali ke kedai kopi itu saat makan siang, berharap menemukan pemilik earphone yang sebenarnya. Mereka bertemu di depan meja barista, keduanya memegang earphone yang salah. 'Permisi,' kata Lana, 'sepertinya ini milikmu?'\n\nBagas tersenyum lega. 'Dan ini pasti milikmu. Maaf, aku benar-benar tidak sadar tadi pagi.' Percakapan canggung itu perlahan berubah menjadi obrolan yang menyenangkan. Mereka menertawakan betapa berbedanya selera musik mereka, namun menemukan banyak kesamaan dalam hal lain: film favorit, kecintaan pada makanan pedas, dan impian untuk berlibur ke Jepang.\n\n'Jadi,' kata Bagas sambil menyeruput kopi keduanya hari itu, 'selain musik metal, aku juga suka mencoba tempat makan baru. Mungkin... kau mau menemaniku akhir pekan ini? Sebagai permintaan maaf karena sudah mencuri playlist pagimu.'\n\nLana tersenyum. 'Tentu saja. Tapi dengan satu syarat.'\n\n'Apa itu?'\n\n'Kita buat playlist kompromi untuk kencan kita nanti.' Dari sebuah kebetulan kecil dan dua selera musik yang bertolak belakang, lahirlah sebuah harmoni yang tidak pernah mereka duga.",
            comments: []
        },
        {
            id: 1728650000005,
            title: "Cinta di Lorong Supermarket",
            category: "Romance",
            content: "Setiap hari Rabu pukul tujuh malam, takdir seolah mempermainkan Ardi. Entah bagaimana, ia selalu berakhir di lorong mi instan di supermarket yang sama, pada waktu yang sama, dengan wanita yang sama.\n\nWanita itu memiliki rambut sebahu dan selalu tampak sama bingungnya dengan Ardi di depan tembok rak yang penuh dengan puluhan merek mi. Minggu pertama, mereka hanya saling melirik. Minggu kedua, mereka berbagi senyum canggung. Minggu ketiga, Ardi memberanikan diri untuk menyapa dengan anggukan kepala, yang dibalas dengan senyum yang lebih lebar.\n\nArdi bukanlah seorang pemalu, tapi ada sesuatu tentang wanita ini yang membuatnya gugup. Ia mulai menantikan hari Rabu. Ia bahkan sengaja memastikan stok mi instannya habis setiap minggu hanya untuk punya alasan pergi ke sana.\n\nPada Rabu kelima, Ardi memutuskan untuk mengakhiri ritual diam ini. Ia melihat wanita itu, yang ia beri nama panggilan 'Ratu Mi' dalam hatinya, sedang memegang dua merek mi yang berbeda dengan ekspresi berpikir keras. Ini adalah kesempatannya.\n\n'Pilihan yang sulit, ya?' Ardi memulai, suaranya sedikit bergetar. Wanita itu menoleh, sedikit terkejut, lalu tertawa. 'Sangat. Aku sudah berdiri di sini lima menit dan masih belum bisa memutuskan antara rasa kari ayam atau soto.'\n\n'Aku ahli dalam hal ini,' canda Ardi. 'Rasa soto untuk hari hujan, kari ayam untuk saat kau butuh semangat. Mengingat hari ini cerah, aku sarankan kari ayam.' Wanita itu tersenyum dan memasukkan mi rasa kari ayam ke dalam keranjangnya. 'Terima kasih, ahli mi. Namaku Sarah.'\n\n'Ardi,' balasnya. Percakapan mereka berlanjut sambil berjalan pelan melewati lorong-lorong lain. Mereka berbicara tentang pekerjaan, tentang betapa sibuknya hidup di kota, dan tentu saja, tentang mi instan. Ardi menemukan bahwa Sarah adalah seorang arsitek yang baru pindah ke kota itu, dan sama seperti Ardi, ia merasa sedikit kesepian.\n\nDi kasir, Ardi melakukan hal yang paling berani dalam hidupnya. 'Begini, Sarah,' katanya, 'aku tahu tempat makan soto yang enak, jauh lebih enak dari versi instannya. Mungkin... kau mau mencobanya denganku akhir pekan ini?'\n\nSarah menatapnya, lalu ke mi instan di keranjangnya, lalu kembali ke Ardi. 'Aku mau,' katanya dengan senyum tulus. 'Asal setelah itu kau tunjukkan di mana letak lorong bumbu dapur yang sebenarnya. Aku sudah mencarinya selama tiga minggu.'\n\nArdi tertawa. Ternyata, lorong mi instan bukan satu-satunya tempat di mana mereka berdua sama-sama tersesat. Dan terkadang, tersesat bersama adalah cara terbaik untuk menemukan arah yang baru.",
            comments: []
        },
        {
            id: 1728650000006,
            title: "Pesan dalam Botol... Nyasar ke Kolam Ikan",
            category: "Romance",
            content: "Leo adalah seorang romantis yang beznadziejny. Terinspirasi oleh film-film lama, ia menghabiskan sepanjang sore menulis surat cinta yang puitis. Surat itu tidak ditujukan untuk siapa pun secara spesifik, melainkan untuk 'jodoh' yang ia yakini ada di suatu tempat di luar sana.\n\nDengan hati berdebar, ia menggulung surat itu, mengikatnya dengan pita, memasukkannya ke dalam botol anggur kosong, dan menyumbatnya dengan rapat. Ia pergi ke dermaga kota saat matahari terbenam dan, dengan sebuah doa kecil, melemparkan botol itu ke laut.\n\nIa membayangkan botol itu akan berlayar melintasi lautan, ditemukan oleh seorang gadis di pantai yang jauh, dan sebuah kisah cinta magis akan dimulai. Ia menunggu. Dan menunggu. Seminggu berlalu tanpa kabar, dan Leo mulai merasa konyol.\n\nPada hari kedelapan, ponselnya berdering. Nomor tak dikenal. 'Halo, dengan Bapak Leo?' tanya suara seorang wanita. 'Iya, benar,' jawab Leo. 'Kami dari Dinas Pertamanan Kota. Kami menemukan properti milik Anda.'\n\nLeo bingung. 'Properti apa ya?' 'Sebuah botol dengan surat di dalamnya. Ditemukan saat kami sedang membersihkan filter di kolam ikan koi di Taman Kota.' Hening. Leo ingin bumi menelannya saat itu juga. Botolnya bahkan tidak berhasil melewati teluk kecil kota itu.\n\nWanita di telepon itu tertawa kecil. 'Maaf, saya tidak bermaksud menertawakan. Surat Anda... sangat indah. Saya yang menemukannya. Nama saya Maya, saya desainer lanskap di taman itu.'\n\nJantung Leo yang tadinya menciut karena malu, kini mulai berdebar karena alasan lain. 'Oh... terima kasih.' 'Sejujurnya,' lanjut Maya, 'itu adalah hal paling romantis yang pernah saya baca, meskipun lokasinya sedikit kurang... samudra.'\n\nMereka terus berbicara di telepon selama hampir satu jam. Maya bercerita tentang kecintaannya pada tanaman, dan Leo bercerita tentang kecintaannya pada tulisan. Mereka merasa nyambung dengan cara yang aneh dan tak terduga.\n\n'Dengar, Leo,' kata Maya sebelum menutup telepon, 'aku tidak bisa menawarkanmu petualangan melintasi lautan. Tapi aku bisa menawarkan secangkir kopi di kafe dekat taman besok. Aku ingin bertemu dengan pria yang bisa menulis surat seindah itu.'\n\nLeo setuju tanpa ragu. Ia mungkin gagal mengirim pesannya ke belahan dunia lain, tetapi takdir, dengan selera humornya yang aneh, justru mengantarkannya ke seseorang yang hanya berjarak beberapa kilometer darinya. Kadang, cinta tidak ditemukan di lautan luas, tetapi di tempat yang paling tidak terduga, seperti kolam ikan koi.",
            comments: []
        },
        // Horror
        {
            id: 1728650000007,
            title: "Lagu Nina Bobo dari Radio Rusak",
            category: "Horror",
            content: "Keluarga Harun baru saja pindah ke sebuah rumah tua di pinggir kota, berharap mendapatkan ketenangan dari hiruk pikuk metropolitan. Rumah itu besar, dengan halaman luas dan harga yang sangat murah. Terlalu murah, sebenarnya.\n\nSaat membersihkan loteng yang berdebu, putri mereka, Anna yang berusia 8 tahun, menemukan sebuah radio transistor antik. Radio itu tampak rusak; kabelnya putus dan kenopnya macet. Harun hendak membuangnya, tetapi Anna bersikeras untuk menyimpannya sebagai hiasan di kamarnya.\n\nMalam pertama, semua tampak normal. Namun, pada malam kedua, Harun terbangun sekitar pukul tiga pagi. Ia mendengar suara musik yang sangat lirih. Ia mengikuti suara itu ke kamar Anna. Di sana, ia melihat Anna tertidur pulas, dan dari radio rusak di atas mejanya, terdengar alunan lagu 'Nina Bobo' yang terdistorsi dan serak.\n\nHarun mencabut kabel radio itu, meskipun ia tahu kabel itu sudah putus. Musik berhenti. Ia menganggapnya hanya mimpi atau imajinasinya saja. Namun, malam berikutnya, hal yang sama terjadi. Pukul 03:03, alunan lagu itu kembali terdengar, kali ini sedikit lebih jelas. '...kalau tidak bobo, digigit nyamuk.'\n\nSetiap malam, kejadian itu berulang. Harun mencoba membuang radio itu, tetapi keesokan paginya, radio itu selalu kembali ke meja di kamar Anna, tanpa ada yang tahu siapa yang membawanya kembali. Anna sendiri tampak semakin lesu dan pucat. Ia sering berbicara dalam tidurnya, menyebut nama 'Lina'.\n\nMerasa putus asa, Harun melakukan riset tentang sejarah rumah itu. Ia menemukan sebuah artikel koran lama tentang keluarga yang pernah tinggal di sana 50 tahun yang lalu. Mereka memiliki seorang putri bernama Lina, yang meninggal dalam tidurnya karena sakit. Artikel itu menyebutkan betapa Lina sangat menyukai radio hadiah dari ayahnya dan selalu mendengarkan lagu nina bobo sebelum tidur.\n\nMalam itu, Harun tidak mencoba menghentikan musiknya. Ia masuk ke kamar Anna dan duduk di samping tempat tidurnya. Suara dari radio itu kini terdengar sangat jelas, seolah dinyanyikan oleh seorang gadis kecil. Di akhir lagu, terdengar bisikan yang bukan bagian dari lagu itu. 'Temani aku... jangan tidur... temani aku main... selamanya.'\n\nHarun menatap Anna yang tertidur. Di samping putrinya, berbaring sesosok bayangan gadis kecil transparan dengan gaun kuno, tersenyum padanya. Radio di atas meja tiba-tiba mati. Hening. Tapi Harun tahu, keheningan itu tidak akan bertahan lama.",
            comments: []
        },
        {
            id: 1728650000008,
            title: "Jangan Buka Pintu Kelima",
            category: "Horror",
            content: "Sebagai mahasiswa, Rian tidak punya banyak pilihan tempat tinggal. Jadi, ketika ia menemukan kamar sewa murah di sebuah rumah kos tua yang besar, ia langsung mengambilnya. Pemiliknya, seorang ibu tua yang ramah, hanya memberinya satu peraturan aneh.\n\n'Kau boleh pergi ke mana saja di rumah ini, Nak Rian,' katanya sambil menyerahkan kunci. 'Kecuali satu tempat. Pintu kelima di ujung lorong lantai dua. Pintu itu sudah dikunci selama 50 tahun. Jangan pernah mencoba membukanya.'\n\nRian, seorang yang logis, hanya menganggapnya sebagai keanehan orang tua. Mungkin ruangan itu hanya gudang yang berantakan. Ia tidak terlalu memikirkannya. Namun, rasa penasarannya mulai terusik.\n\nPada minggu pertama, ia mulai mendengar suara-suara. Suara cakaran pelan yang seolah datang dari arah lorong itu. Ia mencoba mengabaikannya, berpikir itu hanya tikus. Tapi suara cakaran itu terkadang berubah menjadi suara gesekan, seperti seseorang menyeret sesuatu yang berat di lantai.\n\nPada minggu kedua, bau aneh mulai tercium di lorong itu. Bau apek seperti kain basah yang bercampur dengan sesuatu yang manis dan memuakkan, seperti daging yang mulai membusuk. Rian mulai merasa tidak nyaman. Ia bertanya kepada penghuni kos lain, tetapi mereka semua mengaku tidak pernah mendengar atau mencium apa pun.\n\nKejadian paling menakutkan terjadi pada malam ke-15 ia tinggal di sana. Listrik tiba-tiba padam. Dalam kegelapan total, Rian mendengar suara langkah kaki pelan di lorong. Langkah kaki yang basah dan terseok-seok. Langkah itu berhenti tepat di depan pintu kamarnya. Hening sejenak, lalu kenop pintunya berputar pelan. Terkunci. Rian menahan napas, jantungnya serasa berhenti berdetak.\n\nSetelah beberapa detik yang terasa seperti selamanya, ia mendengar langkah kaki itu menjauh, kembali ke arah ujung lorong. Lalu terdengar suara 'klik' pelan, seolah sebuah pintu tua dibuka, lalu ditutup kembali. Pintu kelima.\n\nKeesokan paginya, Rian memutuskan ia tidak tahan lagi. Didorong oleh rasa takut dan penasaran yang tak tertahankan, ia mengambil beberapa peralatan dan berjalan ke ujung lorong. Ia mengabaikan peringatan ibu pemilik kos. Dengan tangan gemetar, ia berhasil membobol kunci tua itu.\n\nPintu terbuka dengan derit yang memilukan. Di dalamnya bukan gudang. Ruangan itu kosong, kecuali sebuah kursi goyang di tengahnya dan sebuah boneka porselen tua yang duduk di kursi itu. Boneka itu mengenakan gaun yang sudah kusam dan robek. Saat Rian melangkah masuk, pintu di belakangnya tiba-tiba terbanting menutup. 'Klik.' Pintu itu terkunci dari luar. Rian kini terperangkap di dalam. Dari sudut ruangan yang gelap, ia mendengar suara tawa cekikikan seorang gadis kecil.",
            comments: []
        },
        {
            id: 1728650000009,
            title: "Wajah di Pantulan Layar Mati",
            category: "Horror",
            content: "Kantor terasa sangat berbeda saat malam hari. Hening, gelap, dan luas. Elara, seorang programmer, sering bekerja lembur, menikmati ketenangan yang membantunya fokus. Malam itu, ia sedang mengerjakan sebuah bug yang rumit.\n\nUntuk beristirahat sejenak, ia mematikan monitor komputernya dan bersandar di kursinya. Layar hitam itu memantulkan ruangan kantor di belakangnya seperti cermin gelap. Ia bisa melihat deretan meja kosong, kursi-kursi yang rapi, dan pintu kaca di ujung ruangan.\n\nSaat itulah ia melihatnya. Dalam pantulan itu, di ambang pintu kaca, berdiri sesosok figur. Gelap dan tidak jelas, tapi jelas berbentuk manusia. Figur itu hanya berdiri diam, menatap ke arahnya.\n\nElara tersentak dan langsung memutar kursinya. Tidak ada siapa-siapa. Pintu kaca itu kosong. Lorong di baliknya pun sepi. 'Aku pasti kelelahan,' gumamnya, mencoba menenangkan jantungnya yang berdebar kencang.\n\nIa kembali menghadap komputernya, masih dengan layar mati. Ia menatap pantulan itu lagi, setengah berharap tidak melihat apa-apa. Figur itu masih di sana. Tidak. Bukan di ambang pintu lagi. Kini ia berdiri di samping meja yang berada persis di belakang meja Elara. Lebih dekat.\n\nKeringat dingin mulai mengalir di pelipis Elara. Ini tidak mungkin. Ia tidak mendengar suara langkah kaki sama sekali. Dengan gerakan yang sangat pelan, ia menoleh ke belakang. Lagi-lagi, tidak ada siapa-siapa. Meja di belakangnya kosong.\n\nNapasnya menjadi berat. Ia tidak berani melihat ke layar lagi, tetapi matanya seolah ditarik ke sana. Dengan gemetar, ia melirik pantulan di layar hitam itu. Matanya terbelalak ngeri.\n\nFigur itu kini berdiri tepat di belakang kursinya. Ia bisa melihat sebuah wajah pucat tanpa ekspresi menatap lurus ke arahnya dari atas bahunya di dalam pantulan itu. Ia bisa merasakan hembusan napas dingin di tengkuknya.\n\nElara ingin menjerit, ingin berlari, tetapi tubuhnya membeku. Ia hanya bisa menatap ngeri pada dua pasang mata di layar hitam itu: matanya sendiri yang penuh ketakutan, dan sepasang mata lain yang kosong dan mati, yang terpantul dari kegelapan di belakangnya.",
            comments: []
        },
        // Misteri
        {
            id: 1728650000010,
            title: "Misteri Hilangnya Patung Emas",
            category: "Misteri",
            content: "Patung 'Burung Kenari Emas' adalah primadona Museum Sejarah Kota. Terbuat dari emas murni seberat lima kilogram, patung itu dipajang di dalam sebuah kotak kaca antipeluru yang berdiri di tengah ruangan khusus. Ruangan itu sendiri dilindungi oleh sensor gerak, kamera pengawas, dan satu-satunya pintu masuk adalah pintu baja yang terkunci secara elektronik.\n\nNamun, pada Senin pagi, kota digemparkan oleh berita mustahil: patung itu lenyap. Kotak kacanya masih utuh dan terkunci. Pintu baja tidak menunjukkan tanda-tanda kerusakan. Log keamanan menunjukkan tidak ada alarm yang berbunyi, tidak ada sensor yang terpicu.\n\nDetektif Arya dipanggil untuk menangani kasus yang tampaknya mustahil ini. Ia berdiri di tengah ruangan steril itu, mengamati TKP. Semuanya sempurna, terlalu sempurna. Satu-satunya hal yang tidak pada tempatnya adalah sehelai bulu gagak hitam yang tergeletak rapi di atas dudukan beludru tempat patung itu seharusnya berada.\n\n'Pencurian di ruang terkunci,' gumam Arya pada rekannya. 'Ini bukan pekerjaan maling biasa. Ini pertunjukan.' Ia mulai mewawancarai semua staf museum. Kepala keamanan bersumpah sistemnya tidak bisa ditembus. Kurator museum menangis tersedu-sedu. Petugas kebersihan yang terakhir kali membersihkan ruangan itu gemetar ketakutan.\n\nArya menghabiskan waktu berjam-jam menonton rekaman CCTV dari koridor di luar ruangan. Tidak ada siapa pun yang masuk atau keluar sepanjang malam. Namun, tepat pada pukul 02:17 dini hari, kamera berkedip mati selama tepat dua detik, lalu menyala kembali. 'Dua detik,' kata Arya. 'Apa yang bisa dilakukan dalam dua detik?'\n\nPetunjuk datang dari tempat yang tidak terduga. Saat memeriksa daftar inventaris museum, Arya menemukan bahwa 'Burung Kenari Emas' pernah menjadi bagian dari koleksi seorang ilusionis terkenal dari era 1920-an bernama 'Corvus the Great'. Corvus terkenal dengan trik-trik sulapnya yang melibatkan burung dan benda-benda yang menghilang.\n\nArya mulai berpikir di luar nalar seorang polisi dan mulai berpikir seperti seorang pesulap. Bagaimana cara membuat sesuatu menghilang di depan mata semua orang? Jawabannya bukan dengan mengeluarkannya dari ruangan, tetapi dengan menyembunyikannya di dalam ruangan itu sendiri.\n\nIa kembali ke ruang pameran, kali ini membawa tim forensik dengan peralatan pemindai. Ia mengabaikan kotak kaca itu dan fokus pada lantainya. Di bawah karpet tebal, pemindai menemukan sebuah rongga kecil yang tidak ada dalam denah bangunan. Sebuah kompartemen rahasia yang dioperasikan dengan mekanisme tersembunyi.\n\nLalu bagaimana dengan bulu gagak itu? Itu adalah 'tanda tangan'. Corvus dalam bahasa Latin berarti gagak. Sang pencuri bukan hanya mencuri emas, ia sedang mengirim pesan, meniru trik sang maestro. Kini, perburuan Detektif Arya bukan lagi mencari pencuri, tetapi mencari seorang ilusionis modern yang jenius dan arogan.",
            comments: []
        },
        {
            id: 1728650000011,
            title: "Teka-Teki Tukang Kopi",
            category: "Misteri",
            content: "Setiap pagi, David mampir ke 'Kopi Kenangan Lama', sebuah kedai kopi kecil yang dikelola oleh Pak Tua bernama Elias. Kopi buatan Pak Elias adalah yang terbaik di kota, tetapi bukan itu yang membuat David terus kembali. Ini tentang simbol-simbol aneh yang digambar Pak Elias di cangkir kopinya.\n\nSetiap pelanggan mendapatkan gambar standar: daun, hati, atau bunga. Tapi cangkir David selalu berbeda. Hari Senin, gambar matahari terbit. Selasa, gambar jembatan. Rabu, gambar kunci. Semuanya digambar dengan busa latte art yang rumit.\n\nDavid awalnya menganggapnya sebagai keisengan. Namun, sebagai seorang penggemar teka-teki, ia mulai curiga ada pola di baliknya. Ia mulai memotret cangkir kopinya setiap hari. Matahari, jembatan, kunci, buku, jam, burung... Simbol-simbol itu seolah bercerita, tetapi ia tidak tahu apa ceritanya.\n\nSuatu hari, David memberanikan diri bertanya. 'Pak Elias, apa arti dari gambar-gambar ini?' Pak Elias hanya tersenyum misterius. 'Hanya mata yang jeli yang bisa melihat lebih dari sekadar kopi,' jawabnya, yang tentu saja tidak membantu sama sekali.\n\nFrustrasi, David memutuskan untuk memetakan simbol-simbol itu. Ia menempelkan foto-foto cangkir kopinya di dinding apartemennya. Ia menyadari bahwa simbol-simbol itu adalah representasi dari tempat-tempat di sekitar kota. Matahari terbit adalah nama sebuah jalan, 'Jalan Fajar'. Jembatan adalah Jembatan Merah yang ikonik. Kunci adalah toko barang antik 'Kunci Emas'.\n\nDengan penemuan ini, David merasa seperti seorang detektif. Ia mengikuti urutan simbol-simbol itu. Dari Jalan Fajar, ia pergi ke Jembatan Merah, lalu ke toko Kunci Emas. Di setiap lokasi, ia mencari petunjuk berikutnya. Di toko Kunci Emas, ia menemukan sebuah buku tua dengan simbol jam di sampulnya, persis seperti simbol di cangkir kopinya hari Kamis.\n\nPerburuan ini membawanya ke seluruh penjuru kota, dari perpustakaan tua hingga menara jam di alun-alun. Setiap lokasi memberinya kepingan puzzle berikutnya. Ia menemukan bahwa ia sedang mengikuti jejak langkah seorang wanita yang hidup 50 tahun yang lalu, seorang penyair lokal yang merupakan cinta pertama Pak Elias.\n\nPetunjuk terakhir membawanya kembali ke kedai kopi itu sendiri, pada hari Sabtu. Simbol hari itu adalah sebuah hati. Saat David menunjukkan semua penemuannya kepada Pak Elias, pria tua itu akhirnya membuka ceritanya. Ia dan penyair itu, sebelum berpisah, menciptakan perburuan harta karun ini sebagai cara untuk selalu mengingat cinta mereka. Hartanya bukanlah emas atau permata.\n\nPak Elias kemudian membuka sebuah laci tersembunyi di bawah meja barnya. Di dalamnya ada sebuah kotak kayu. Ia menyerahkannya kepada David. Di dalam kotak itu ada setumpuk surat cinta dan puisi yang belum pernah dipublikasikan. 'Dia ingin karyanya dibaca,' kata Pak Elias. 'Tapi hanya oleh seseorang yang cukup peduli untuk mencarinya. Kau telah menemukannya.'\n\nDavid menyadari bahwa teka-teki itu bukan hanya untuknya. Itu adalah cara Pak Elias untuk menemukan seseorang yang bisa ia percayai untuk mewariskan kenangan paling berharganya.",
            comments: []
        },
        {
            id: 1728650000012,
            title: "Siapa Pengirim Bunga Mawar Hitam?",
            category: "Misteri",
            content: "Walikota Riana Pratiwi adalah politisi yang paling dicintai dalam sejarah kota itu. Ia cerdas, karismatik, dan memiliki rekam jejak yang bersih tanpa noda. Namun, ketenangan hidupnya mulai terusik oleh sebuah kiriman misterius.\n\nSemuanya dimulai pada hari Senin. Ia menemukan setangkai mawar hitam yang indah tergeletak di atas mejanya di balai kota. Tidak ada kartu, tidak ada catatan. Ia menganggapnya sebagai hadiah dari seorang pengagum rahasia dengan selera yang unik.\n\nNamun, pada hari Selasa, mawar hitam kedua muncul. Lalu yang ketiga pada hari Rabu. Setiap pagi, tanpa gagal, setangkai mawar hitam baru menunggunya. Pengirimnya seperti hantu; tidak ada yang melihatnya datang, dan tidak ada rekaman CCTV yang berhasil menangkapnya.\n\nRiana mulai merasa ini bukan lagi hadiah, melainkan sebuah pesan. Mawar hitam seringkali melambangkan perpisahan atau duka. Apakah ini sebuah ancaman? Stafnya menjadi gugup, dan pengawal pribadinya meningkatkan kewaspadaan, tetapi mawar itu tetap muncul entah dari mana.\n\nPada hari kelima, bersamaan dengan mawar kelima, ada sebuah amplop kecil. Di dalamnya hanya ada selembar foto lama. Foto Riana saat masih remaja, berdiri di depan sebuah panti asuhan yang sudah lama terbakar habis. Jantung Riana serasa berhenti berdetak. Itu adalah rahasia tergelapnya, sebuah bagian dari masa lalunya yang ia kubur dalam-dalam.\n\nDua puluh tahun yang lalu, ia adalah seorang remaja pemberontak yang tinggal di panti asuhan itu. Suatu malam, ia dan seorang temannya, Daniel, secara tidak sengaja menyebabkan kebakaran saat bermain dengan korek api. Panik, mereka melarikan diri dan tidak pernah memberitahu siapa pun. Kebakaran itu merenggut nyawa seorang penjaga malam. Riana berhasil mengubah hidupnya, tetapi Daniel menghilang tanpa jejak.\n\nKini, Riana sadar siapa pengirim mawar itu. Ini pasti perbuatan Daniel. Tapi mengapa sekarang, setelah dua puluh tahun? Apakah ia ingin balas dendam? Atau memerasnya? Mawar-mawar itu adalah hitungan mundur.\n\nDengan bantuan seorang detektif swasta kepercayaannya, Riana mulai melacak keberadaan Daniel. Mereka menemukan bahwa Daniel tidak pernah benar-benar menghilang. Ia hidup dalam kemiskinan dan penyesalan, selalu mengawasi kesuksesan Riana dari jauh. Ia tidak sakit hati, tetapi ia menderita penyakit parah dan merasa perlu untuk membersihkan nuraninya sebelum meninggal.\n\nPertemuan terakhir terjadi di sebuah taman. Daniel, kini kurus dan pucat, sedang menunggu di sebuah bangku, memegang mawar hitam terakhir. 'Aku tidak ingin menghancurkanmu, Riana,' katanya dengan suara lemah. 'Aku hanya ingin kau mengingat apa yang terjadi. Aku ingin kita mengakui dosa kita bersama.'\n\nMawar-mawar itu bukanlah ancaman. Itu adalah permintaan pengampunan. Misteri itu terpecahkan, tetapi meninggalkan Riana dengan pilihan yang jauh lebih sulit: mengakui kebenaran dan mengorbankan seluruh kariernya, atau terus hidup dalam kebohongan sementara orang yang berbagi rahasianya dengannya perlahan-lahan pergi.",
            comments: []
        },
        // Petualangan
        {
            id: 1728650000013,
            title: "Ekspedisi ke Air Terjun Pelangi",
            category: "Petualangan",
            content: "Dr. Arina adalah seorang etnobotanis, seorang ilmuwan yang mempelajari hubungan antara manusia dan tumbuhan. Sejak kecil, ia terobsesi dengan cerita-cerita kakeknya tentang sebuah tempat magis di jantung Kalimantan: Air Terjun Pelangi.\n\nMenurut legenda suku pedalaman, air terjun ini tersembunyi di sebuah lembah yang belum terjamah, dan kabut airnya yang terkena sinar matahari menciptakan pelangi permanen sepanjang hari. Di sekitar air terjun itu, konon tumbuh flora unik dengan khasiat penyembuhan yang luar biasa.\n\nSetelah bertahun-tahun melakukan riset dan mengumpulkan dana, Arina akhirnya memulai ekspedisinya. Timnya terdiri dari tiga orang: Arina sendiri, seorang pemandu lokal bernama Banyu yang mengenal hutan seperti punggung tangannya, dan seorang fotografer alam bernama Gede yang bertugas mendokumentasikan perjalanan mereka.\n\nPerjalanan dimulai dengan menyusuri sungai menggunakan perahu kelotok. Namun, setelah tiga hari, mereka harus meninggalkan perahu dan melanjutkan perjalanan dengan berjalan kaki, menebas jalan mereka sendiri melalui hutan lebat yang lembab dan penuh dengan suara-suara asing.\n\nMereka menghadapi berbagai rintangan. Hujan tropis yang deras mengubah tanah menjadi lumpur yang licin. Lintah menempel di kaki mereka, dan nyamuk berdengung tanpa henti. Suatu malam, seekor ular berbisa menyelinap masuk ke tenda mereka, memaksa Banyu menunjukkan keahliannya dalam menangani hewan liar.\n\nNamun, setiap kesulitan yang mereka hadapi terbayar dengan keajaiban yang mereka temukan. Mereka melihat anggrek hitam yang langka, menemukan jejak kaki tapir, dan mendengar nyanyian merdu burung enggang di kejauhan. Gede tidak pernah berhenti memotret, mengabadikan setiap detail keindahan alam liar itu.\n\nSetelah sembilan hari perjalanan yang melelahkan, mereka mulai mendengar suara gemuruh air yang samar. Semangat mereka kembali berkobar. Mereka mempercepat langkah, dan akhirnya, mereka tiba di tepi sebuah tebing.\n\nDi hadapan mereka, terbentang pemandangan yang lebih indah dari dongeng mana pun. Sebuah air terjun raksasa jatuh dari ketinggian seratus meter ke sebuah danau biru jernih. Dan seperti yang diceritakan legenda, kabut airnya membentuk pelangi yang melengkung dengan sempurna di atas danau. Lembah itu dipenuhi dengan bunga-bunga berwarna-warni yang belum pernah Arina lihat sebelumnya.\n\nArina menangis haru. Ia mengambil sampel tanaman dengan hati-hati, sementara Gede sibuk mengabadikan momen itu dengan kameranya. Banyu hanya berdiri diam, tersenyum penuh hormat pada keagungan alam.\n\nEkspedisi itu sukses besar. Penemuan Arina mengguncang dunia botani dan membuka jalan bagi penelitian medis baru. Namun, bagi Arina, Gede, dan Banyu, pengalaman itu lebih dari sekadar penemuan ilmiah. Itu adalah sebuah perjalanan spiritual yang mengingatkan mereka akan kekuatan, keindahan, dan misteri alam yang masih tersimpan di sudut-sudut tersembunyi bumi.",
            comments: []
        },
        {
            id: 1728650000014,
            title: "Mencari Perpustakaan Bawah Tanah",
            category: "Petualangan",
            content: "Legenda itu beredar di kalangan mahasiswa jurusan sejarah: di suatu tempat di bawah kota, di dalam jaringan terowongan kereta bawah tanah yang ditinggalkan, terdapat sebuah 'Perpustakaan Tersembunyi'. Konon, perpustakaan itu dibangun oleh sekelompok cendekiawan pada masa perang untuk menyelamatkan buku-buku langka dari kehancuran.\n\nBagi kebanyakan orang, itu hanya cerita pengantar tidur. Tapi tidak bagi empat sahabat: Raka si pemimpin yang pemberani, Dira si ahli sejarah yang jenius, Fajar si teknisi yang bisa merakit apa saja, dan Maya si seniman yang bertugas memetakan jalan.\n\nMereka menghabiskan berbulan-bulan di arsip kota, meneliti peta-peta tua dan dokumen-dokumen yang sudah dilupakan. Mereka menemukan serangkaian anomali: sebuah terowongan ventilasi yang tidak terdaftar, catatan pengeluaran semen dalam jumlah besar di area yang seharusnya kosong, dan sebuah denah samar yang disembunyikan di balik peta sistem pembuangan limbah tahun 1940-an.\n\nDengan semua petunjuk itu, mereka siap beraksi. Pada suatu Sabtu malam, berbekal senter, tali, walkie-talkie, dan drone kecil rakitan Fajar, mereka menyelinap masuk ke stasiun kereta bawah tanah yang sudah tidak terpakai. Udara di dalam terasa dingin dan berbau debu.\n\nMereka mengikuti peta buatan Maya, melewati terowongan-terowongan gelap yang dipenuhi grafiti dan sarang laba-laba. Suara tetesan air menggema di keheningan, menciptakan suasana yang mencekam sekaligus mendebarkan. Drone milik Fajar terbang di depan, memetakan jalan dan memastikan tidak ada bahaya yang mengintai.\n\nSetelah berjalan hampir dua kilometer, mereka menemukan apa yang mereka cari: sebuah dinding bata yang terlihat lebih baru dibandingkan dinding di sekitarnya. Dira, dengan pengetahuannya tentang arsitektur zaman itu, menemukan sebuah batu bata yang longgar. Ketika ditarik, sebuah mekanisme berderit, dan sebagian dinding itu bergeser ke samping, menampakkan sebuah lorong gelap.\n\nJantung mereka berdebar kencang. Mereka menyusuri lorong itu dan tiba di depan sebuah pintu kayu ek yang besar. Dengan tenaga bersama, mereka mendorong pintu itu hingga terbuka. Pemandangan di baliknya membuat mereka menahan napas.\n\nItu nyata. Sebuah ruangan melingkar yang luas, dipenuhi rak-rak buku dari lantai hingga langit-langit. Ribuan buku, tua dan rapuh, tersusun rapi. Di tengah ruangan, ada meja-meja baca dan kursi-kursi yang tertutup debu, seolah penghuninya baru saja pergi beberapa menit yang lalu. Udara di dalamnya terasa kering dan beraroma kertas tua.\n\nMereka telah menemukannya. Perpustakaan Tersembunyi itu bukan lagi legenda. Mereka menghabiskan waktu berjam-jam menjelajahi tempat itu, menyentuh buku-buku yang usianya ratusan tahun, membaca catatan-catatan yang ditinggalkan oleh para pendirinya. Ini adalah surga bagi para pecinta sejarah.\n\nPetualangan mereka tidak menghasilkan emas atau harta karun, tetapi mereka menemukan sesuatu yang jauh lebih berharga: sebuah kapsul waktu dari masa lalu, sebuah bukti dari semangat manusia untuk menjaga ilmu pengetahuan bahkan di saat-saat tergelap sekalipun. Mereka berjanji untuk menjaga rahasia tempat itu, menjadi penjaga barunya, sambil terus kembali untuk mempelajari harta karun pengetahuan yang tersembunyi di bawah kaki kota mereka yang sibuk.",
            comments: []
        },
        {
            id: 1728650000015,
            title: "Berlayar dengan Peta Bintang",
            category: "Petualangan",
            content: "Bagi kakak beradik, Elang dan Mentari, perjalanan berlayar selama seminggu di sekitar kepulauan terpencil seharusnya menjadi liburan yang santai. Mereka berlayar dengan 'Albatros', perahu layar warisan ayah mereka, yang dilengkapi dengan semua teknologi navigasi modern.\n\nNamun, pada hari keempat, badai dahsyat datang tanpa peringatan. Langit yang tadinya biru cerah berubah menjadi abu-abu gelap. Ombak setinggi rumah menghantam perahu mereka. Selama berjam-jam, mereka berjuang melawan amukan alam, berusaha menjaga agar 'Albatros' tidak terbalik.\n\nMereka selamat, tetapi tidak tanpa kerugian. Saat fajar menyingsing dan badai mereda, mereka menemukan semua peralatan elektronik mereka—GPS, radio, telepon satelit—telah rusak parah akibat sambaran petir dan rendaman air laut. Mereka terombang-ambing di tengah lautan biru tak berujung, tanpa tahu di mana mereka berada atau ke mana harus pergi.\n\nKeputusasaan mulai menyelimuti mereka. Namun, saat sedang memeriksa sebuah kompartemen penyimpanan tua, Mentari menemukan sebuah kotak kayu yang sudah usang. Di dalamnya, ada benda-benda yang ia kenali sebagai hobi aneh ayah mereka: sebuah sekstan kuningan, beberapa buku astronomi, dan satu set peta bintang yang digambar tangan.\n\n'Aku tidak percaya ini,' kata Elang, 'Ayah selalu memaksa kita mempelajari ini, dan kita selalu menertawakannya.' Dulu, ayah mereka, seorang pelaut veteran, selalu mengajarkan mereka cara menavigasi menggunakan bintang. 'Teknologi bisa gagal,' katanya selalu, 'tapi bintang-bintang akan selalu ada untukmu.'\n\nDengan sedikit harapan, mereka memutuskan untuk mencoba. Malam itu, di bawah langit yang cerah tanpa awan, mereka membuka kembali pelajaran-pelajaran yang sudah lama mereka lupakan. Elang menggunakan sekstan untuk mengukur sudut bintang Polaris, sementara Mentari mencocokkannya dengan peta bintang dan melakukan perhitungan rumit di atas kertas.\n\nProsesnya lambat dan penuh kesalahan. Mereka sering berdebat dan merasa frustrasi. Tapi perlahan, mereka mulai mengingat kembali ajaran ayah mereka. Mereka belajar untuk membaca rasi bintang, memahami pergerakan langit, dan menerjemahkannya menjadi garis lintang dan bujur.\n\nSetiap malam menjadi sesi navigasi yang menegangkan, dan setiap siang menjadi ujian kesabaran saat mereka mengarahkan 'Albatros' ke arah yang mereka yakini benar, hanya dengan berbekal kompas dan posisi matahari. Mereka belajar untuk bekerja sama, saling mempercayai, dan menghormati kearifan kuno yang diwariskan ayah mereka.\n\nSetelah tiga hari yang terasa seperti sebulan, pada suatu pagi, Mentari berteriak dari dek. 'Tanah! Aku melihat tanah!' Di kejauhan, tampak siluet samar sebuah pulau. Mereka berhasil. Peta bintang dan ajaran ayah mereka telah membawa mereka ke tempat yang aman.\n\nSaat mereka merapat di sebuah desa nelayan kecil, mereka tidak hanya merasa lega, tetapi juga merasa bangga. Liburan mereka yang hancur telah berubah menjadi petualangan terbesar dalam hidup mereka. Mereka tidak hanya selamat dari badai, tetapi mereka juga telah terhubung kembali dengan warisan ayah mereka dan menemukan kekuatan dalam diri mereka sendiri, dengan panduan dari bintang-bintang yang abadi.",
            comments: []
        }
    ];

    // Populate localStorage with initial stories if it's empty or out of date
    const SCRIPT_VERSION = "2.1"; // Version with longer stories
    const storedVersion = localStorage.getItem('cerpenVersion');
    const storiesExist = localStorage.getItem('cerpenCollection') !== null;

    if (!storiesExist || storedVersion !== SCRIPT_VERSION) {
        localStorage.setItem('cerpenCollection', JSON.stringify(initialStories));
        localStorage.setItem('cerpenVersion', SCRIPT_VERSION);
    }

    const writeForm = document.getElementById('writeForm');
    const cerpenList = document.getElementById('cerpenList');
    const latestStoriesList = document.getElementById('latest-stories-list');
    const storyFullContent = document.getElementById('story-full-content');

    // --- Logic for Write Page ---
    if (writeForm) {
        const cerpenTitle = document.getElementById('cerpenTitle');
        const cerpenContent = document.getElementById('cerpenContent');
        const wordCountEl = document.getElementById('word-count');
        const saveStatusEl = document.getElementById('save-status');
        let saveTimeout;

        // 1. Word Count Function
        function updateWordCount() {
            const content = cerpenContent.value;
            const characterCount = content.length;
            const wordCount = content.trim().split(/\s+/).filter(Boolean).length;
            wordCountEl.textContent = `${wordCount} Kata, ${characterCount} Karakter`;
        }

        // 2. Autosave Function
        function saveDraft() {
            const draft = {
                title: cerpenTitle.value,
                content: cerpenContent.value,
            };
            localStorage.setItem('cerpenDraft', JSON.stringify(draft));
            saveStatusEl.textContent = `Tersimpan otomatis pada ${new Date().toLocaleTimeString()}`;
        }

        // 3. Load Draft Function
        function loadDraft() {
            const draft = JSON.parse(localStorage.getItem('cerpenDraft'));
            if (draft) {
                cerpenTitle.value = draft.title;
                cerpenContent.value = draft.content;
                updateWordCount(); // Update count after loading draft
                saveStatusEl.textContent = 'Draf sebelumnya berhasil dimuat.';
            }
        }

        // Attach event listeners
        cerpenContent.addEventListener('input', () => {
            updateWordCount();
            // Debounce save function
            clearTimeout(saveTimeout);
            saveStatusEl.textContent = 'Mengetik...';
            saveTimeout = setTimeout(saveDraft, 2000); // Save 2 seconds after user stops typing
        });
        cerpenTitle.addEventListener('input', () => {
             // Debounce save function
            clearTimeout(saveTimeout);
            saveStatusEl.textContent = 'Mengetik...';
            saveTimeout = setTimeout(saveDraft, 2000);
        });


        // Handle form submission
        writeForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const title = cerpenTitle.value;
            const content = cerpenContent.value;

            const category = document.querySelector('input[name="category"]:checked');

            if (!title || !content || !category) {
                alert('Judul, isi cerpen, dan kategori tidak boleh kosong!');
                return;
            }

            const newStory = {
                id: Date.now(),
                title: title,
                content: content,
                category: category.value,
                comments: []
            };
            const stories = JSON.parse(localStorage.getItem('cerpenCollection')) || [];
            stories.push(newStory);
            localStorage.setItem('cerpenCollection', JSON.stringify(stories));

            // Clear the draft after successful submission
            localStorage.removeItem('cerpenDraft');
            
            alert('Cerpen berhasil dipublikasikan!');
            window.location.href = 'browse.html';
        });

        // Initial load
        loadDraft();
    }

    // --- Logic for Browse Page ---
    if (cerpenList) {
        const stories = JSON.parse(localStorage.getItem('cerpenCollection')) || [];
        const filterButtonsContainer = document.getElementById('category-filters');

        // Helper function to get color based on category
        const getCategoryColor = (category) => {
            switch (category) {
                case 'Komedi': return '#ffc107'; // Yellow
                case 'Romance': return '#e83e8c'; // Pink
                case 'Horror': return '#343a40'; // Dark Gray
                case 'Misteri': return '#6f42c1'; // Purple
                case 'Petualangan': return '#28a745'; // Green
                default: return '#6c757d'; // Gray
            }
        };

        // Function to display stories on the page
        const displayStories = (filteredStories) => {
            cerpenList.innerHTML = '';
            if (filteredStories.length === 0) {
                cerpenList.innerHTML = '<p class="col-12">Tidak ada cerpen dalam kategori ini.</p>';
            } else {
                filteredStories.slice().reverse().forEach(story => {
                    const storyCard = `
                        <div class="col-md-6 col-lg-4 mb-4 story-card-item" data-category="${story.category}">
                            <div class="card story-card-v3 h-100" style="--category-color: ${getCategoryColor(story.category)};">
                                <div class="card-body d-flex flex-column">
                                    <h5 class="card-title">${story.title}</h5>
                                    <p class="card-text flex-grow-1">${story.content.substring(0, 150)}...</p>
                                    <div class="mt-auto pt-3">
                                        <span class="category-badge">${story.category}</span>
                                    </div>
                                    <div class="mt-3">
                                        <a href="story.html?id=${story.id}" class="btn btn-secondary btn-sm">Baca</a>
                                        <button class="btn btn-danger btn-sm delete-btn" data-story-id="${story.id}">Hapus</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                    cerpenList.innerHTML += storyCard;
                });
            }
        };

        // Function to handle filtering and update active button
        const filterAndDisplay = (category) => {
            const allStories = JSON.parse(localStorage.getItem('cerpenCollection')) || [];
            let storiesToShow = [];

            if (category === 'all') {
                storiesToShow = allStories;
            } else {
                storiesToShow = allStories.filter(story => story.category === category);
            }
            displayStories(storiesToShow);

            // Update active state for filter buttons
            const buttons = filterButtonsContainer.querySelectorAll('.filter-btn');
            buttons.forEach(button => {
                if (button.getAttribute('data-category') === category) {
                    button.classList.add('btn-primary');
                    button.classList.remove('btn-outline-primary');
                } else {
                    button.classList.remove('btn-primary');
                    button.classList.add('btn-outline-primary');
                }
            });
        };

        // Add event listeners to filter buttons
        filterButtonsContainer.addEventListener('click', (e) => {
            if (e.target.classList.contains('filter-btn')) {
                const category = e.target.getAttribute('data-category');
                filterAndDisplay(category);
            }
        });

        // Initial load: Check for URL parameter and display stories
        const urlParams = new URLSearchParams(window.location.search);
        const categoryFromUrl = urlParams.get('category');

        if (categoryFromUrl) {
            filterAndDisplay(categoryFromUrl);
        } else {
            filterAndDisplay('all'); // Default to show all
        }

        // --- Logic for Reset Button ---
        const resetButton = document.getElementById('reset-cerpen-btn');
        if(resetButton) {
            resetButton.addEventListener('click', () => {
                if(confirm('Apakah Anda yakin ingin mereset semua cerpen ke data awal? Cerpen yang Anda tulis akan hilang.')) {
                    localStorage.removeItem('cerpenCollection');
                    localStorage.removeItem('cerpenVersion');
                    window.location.reload();
                }
            });
        }
    }

    // --- Logic for Home Page ---
    if (latestStoriesList) {
        const stories = JSON.parse(localStorage.getItem('cerpenCollection')) || [];
        
        // Helper function to get color based on category
        const getCategoryColor = (category) => {
            switch (category) {
                case 'Komedi': return '#ffc107';
                case 'Romance': return '#e83e8c';
                case 'Horror': return '#343a40';
                case 'Misteri': return '#6f42c1';
                case 'Petualangan': return '#28a745';
                default: return '#6c757d';
            }
        };

        if (stories.length === 0) {
            latestStoriesList.innerHTML = '<p class="col-12">Belum ada cerpen yang ditulis. <a href="write.html">Mulai menulis sekarang!</a></p>';
        } else {
            latestStoriesList.innerHTML = '';
            const latestThree = stories.slice(-3).reverse();
            latestThree.forEach(story => {
                const storyCard = `
                    <div class="col-md-4 mb-4">
                        <div class="card story-card-v3 h-100" style="--category-color: ${getCategoryColor(story.category)};">
                            <div class="card-body d-flex flex-column">
                                <h5 class="card-title">${story.title}</h5>
                                <p class="card-text flex-grow-1">${story.content.substring(0, 100)}...</p>
                                <div class="mt-auto pt-3">
                                    <span class="category-badge">${story.category}</span>
                                </div>
                                <div class="mt-3">
                                    <a href="story.html?id=${story.id}" class="btn btn-secondary btn-sm">Baca</a>
                                    <button class="btn btn-danger btn-sm delete-btn" data-story-id="${story.id}">Hapus</button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                latestStoriesList.innerHTML += storyCard;
            });
        }
    }

    // --- DELEGATED EVENT LISTENER FOR DELETE ---
    function handleDelete(event) {
        if (event.target.classList.contains('delete-btn')) {
            const storyId = parseInt(event.target.getAttribute('data-story-id'));
            
            if (confirm('Apakah Anda yakin ingin menghapus cerpen ini? Aksi ini tidak dapat dibatalkan.')) {
                let stories = JSON.parse(localStorage.getItem('cerpenCollection')) || [];
                const updatedStories = stories.filter(story => story.id !== storyId);
                localStorage.setItem('cerpenCollection', JSON.stringify(updatedStories));
                window.location.reload(); // Reload the page to reflect changes
            }
        }
    }

    if(cerpenList) {
        cerpenList.addEventListener('click', handleDelete);
    }
    if(latestStoriesList) {
        latestStoriesList.addEventListener('click', handleDelete);
    }

    // --- Logic for Story Page ---
    if (storyFullContent) {
        const urlParams = new URLSearchParams(window.location.search);
        const storyId = parseInt(urlParams.get('id'));
        let stories = JSON.parse(localStorage.getItem('cerpenCollection')) || [];
        let story = stories.find(s => s.id === storyId);

        const commentsList = document.getElementById('comments-list');
        const commentForm = document.getElementById('comment-form');

        function displayComments() {
            commentsList.innerHTML = '';
            if (story.comments && story.comments.length > 0) {
                story.comments.forEach(comment => {
                    const commentEl = document.createElement('div');
                    commentEl.className = 'card bg-light mb-3';
                    commentEl.innerHTML = `
                        <div class="card-body">
                            <p class="card-text">${comment.text}</p>
                            <p class="card-subtitle text-muted small">Oleh: <strong>${comment.name}</strong> pada ${new Date(comment.date).toLocaleDateString()}</p>
                        </div>
                    `;
                    commentsList.appendChild(commentEl);
                });
            } else {
                commentsList.innerHTML = '<p>Belum ada komentar. Jadilah yang pertama!</p>';
            }
        }

        if (story) {
            document.title = story.title + " - INDOCERPEN";
            const storyHTML = `
                <h1>${story.title}</h1>
                <p class="text-muted">Ditulis pada ${new Date(story.id).toLocaleDateString()} | Kategori: ${story.category}</p>
                <hr>
                <div class="story-body">
                    ${story.content.split('\n\n').map(p => `<p>${p.replace(/\n/g, '<br>')}</p>`).join('')}
                </div>
            `;
            storyFullContent.innerHTML = storyHTML;

            displayComments();

            commentForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const commenterName = document.getElementById('commenter-name').value;
                const commentText = document.getElementById('comment-text').value;

                const newComment = {
                    name: commenterName,
                    text: commentText,
                    date: Date.now()
                };

                const storyIndex = stories.findIndex(s => s.id === storyId);
                if (storyIndex > -1) {
                    if (!stories[storyIndex].comments) {
                        stories[storyIndex].comments = [];
                    }
                    stories[storyIndex].comments.push(newComment);
                    
                    story = stories[storyIndex];
                    localStorage.setItem('cerpenCollection', JSON.stringify(stories));

                    displayComments();
                    commentForm.reset();
                }
            });

        } else {
            storyFullContent.innerHTML = '<h1>Cerpen tidak ditemukan.</h1><p>Cerpen yang Anda cari mungkin telah dihapus atau linknya salah.</p>';
            document.getElementById('comments-section').style.display = 'none';
        }
    }
});
